<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Ohhh</title>
    <link rel="stylesheet" href="">
    <script src="res/photoswipe.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="res/photoswipe-ui-default.min.js" type="text/javascript" charset="utf-8"></script>
    <link rel="stylesheet" type="text/css" href="res/photoswipe.css">
    <link rel="stylesheet" type="text/css" href="res/default-skin/default-skin.css">
    <link rel="stylesheet" type="text/css" href="res/gallery.css">
</head>

<body>
    <div class="gallery-header">
        <button class="gallery-link">Francesco</button>
        <button class="gallery-link">Valentina</button>
    </div>
    <div class="gallery-container">
        <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
            :
            <!-- Background of PhotoSwipe.
				It's a separate element, as animating opacity is faster than rgba(). -->
            <div class="pswp__bg"></div>
            <!-- Slides wrapper with overflow:hidden. -->
            <div class="pswp__scroll-wrap">
                <!-- Container that holds slides. PhotoSwipe keeps only 3 slides in DOM to save memory. -->
                <div class="pswp__container">
                    <!-- don't modify these 3 pswp__item elements, data is added later on -->
                    <div class="pswp__item"></div>
                    <div class="pswp__item"></div>
                    <div class="pswp__item"></div>
                </div>
                <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
                <div class="pswp__ui pswp__ui--hidden">
                    <div class="pswp__top-bar">
                        <!--  Controls are self-explanatory. Order can be changed. -->
                        <div class="pswp__counter"></div>
                        <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                        <button class="pswp__button pswp__button--share" title="Share"></button>
                        <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                        <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                        <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                        <!-- element will get class pswp__preloader--active when preloader is running -->
                        <div class="pswp__preloader">
                            <div class="pswp__preloader__icn">
                                <div class="pswp__preloader__cut">
                                    <div class="pswp__preloader__donut"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                        <div class="pswp__share-tooltip"></div>
                    </div>
                    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
                    </button>
                    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
                    </button>
                    <div class="pswp__caption">
                        <div class="pswp__caption__center"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript" charset="utf-8">
    var photoSequenceFrancesco = {
        sequence: "GOPR0107.JPG,GOPR0108.JPG,GOPR0109.JPG,GOPR9741.JPG,GOPR9742.JPG,GOPR9743.JPG,GOPR9744.JPG,GOPR9745.JPG,GOPR9746.JPG,GOPR9747.JPG,GOPR9748.JPG,GOPR9749.JPG,GOPR9750.JPG,GOPR9751.JPG,GOPR9752.JPG,GOPR9753.JPG,GOPR9754.JPG,GOPR9755.JPG,GOPR9756.JPG,GOPR9757.JPG,GOPR9758.JPG,GOPR9759.JPG,GOPR9760.JPG,GOPR9761.JPG,GOPR9762.JPG,GOPR9763.JPG,GOPR9764.JPG,GOPR9765.JPG,GOPR9766.JPG,GOPR9767.JPG,GOPR9768.JPG,GOPR9769.JPG,GOPR9770.JPG,GOPR9771.JPG,GOPR9772.JPG,GOPR9773.JPG,GOPR9774.JPG,GOPR9775.JPG,GOPR9776.JPG,GOPR9777.JPG,GOPR9778.JPG,GOPR9779.JPG,GOPR9780.JPG,GOPR9781.JPG,GOPR9782.JPG,GOPR9783.JPG,GOPR9784.JPG,GOPR9785.JPG,GOPR9786.JPG,GOPR9787.JPG,GOPR9788.JPG,GOPR9789.JPG,GOPR9790.JPG,GOPR9791.JPG,GOPR9792.JPG,GOPR9793.JPG,GOPR9794.JPG,GOPR9795.JPG,GOPR9796.JPG,GOPR9797.JPG,GOPR9798.JPG,GOPR9799.JPG,GOPR9800.JPG,GOPR9801.JPG,GOPR9802.JPG,GOPR9803.JPG,GOPR9804.JPG,GOPR9805.JPG,GOPR9806.JPG,GOPR9807.JPG,GOPR9808.JPG,GOPR9809.JPG,GOPR9810.JPG,GOPR9811.JPG,GOPR9812.JPG,GOPR9813.JPG,GOPR9814.JPG,GOPR9815.JPG,GOPR9816.JPG,GOPR9817.JPG,GOPR9818.JPG,GOPR9819.JPG,GOPR9820.JPG,GOPR9821.JPG,GOPR9822.JPG,GOPR9823.JPG,GOPR9824.JPG,GOPR9825.JPG,GOPR9826.JPG,GOPR9827.JPG,GOPR9828.JPG,GOPR9829.JPG,GOPR9830.JPG,GOPR9831.JPG,GOPR9832.JPG,GOPR9833.JPG,GOPR9834.JPG,GOPR9835.JPG,GOPR9836.JPG,GOPR9837.JPG,GOPR9838.JPG,GOPR9839.JPG,GOPR9840.JPG,GOPR9841.JPG,GOPR9842.JPG,GOPR9843.JPG,GOPR9844.JPG,GOPR9845.JPG,GOPR9846.JPG,GOPR9847.JPG,GOPR9848.JPG,GOPR9849.JPG,GOPR9850.JPG,GOPR9851.JPG,GOPR9852.JPG,GOPR9853.JPG,GOPR9854.JPG,GOPR9855.JPG,GOPR9856.JPG,GOPR9857.JPG,GOPR9858.JPG,GOPR9859.JPG,GOPR9860.JPG,GOPR9861.JPG,GOPR9862.JPG,GOPR9863.JPG,GOPR9864.JPG,GOPR9865.JPG,GOPR9866.JPG,GOPR9867.JPG,GOPR9868.JPG,GOPR9869.JPG,GOPR9870.JPG,GOPR9871.JPG,GOPR9872.JPG,GOPR9873.JPG,GOPR9874.JPG,GOPR9875.JPG,GOPR9876.JPG,GOPR9877.JPG,GOPR9878.JPG,GOPR9879.JPG,GOPR9880.JPG,GOPR9881.JPG,GOPR9882.JPG,GOPR9883.JPG",
        subFolder: 'francesco',
    };
    var photoSequenceValentina = {
        sequence: "G0010243.JPG,G0010244.JPG,G0010245.JPG,G0020246.JPG,G0020247.JPG,G0020248.JPG,G0030249.JPG,G0030250.JPG,G0030251.JPG,G0040252.JPG,G0040253.JPG,G0040254.JPG,G0040255.JPG,G0050256.JPG,G0050257.JPG,G0050258.JPG,G0050259.JPG,G0050260.JPG,G0050261.JPG,G0050262.JPG,G0060263.JPG,G0060264.JPG,G0060265.JPG,G0060266.JPG,G0060267.JPG,G0060268.JPG,G0060269.JPG,G0060270.JPG,G0060271.JPG,G0060272.JPG,G0060273.JPG,G0060274.JPG,G0060275.JPG,G0060276.JPG,G0060277.JPG,G0060278.JPG,G0060279.JPG,G0060280.JPG,G0060281.JPG,G0060282.JPG,G0060283.JPG,G0060284.JPG,G0060285.JPG,G0060286.JPG,G0060287.JPG,G0060288.JPG,G0060289.JPG,G0060290.JPG,G0060291.JPG,G0060292.JPG,G0060293.JPG,G0060294.JPG,G0060295.JPG,G0060296.JPG,G0060297.JPG,G0060298.JPG,G0060299.JPG,G0060300.JPG,G0060301.JPG,G0060302.JPG,G0060303.JPG,G0060304.JPG,G0060305.JPG,G0060306.JPG,G0060307.JPG,G0060308.JPG,G0060309.JPG,G0060310.JPG,G0060311.JPG,G0060312.JPG,G0060313.JPG,G0060314.JPG,G0060315.JPG,G0060316.JPG,G0060317.JPG,G0060318.JPG,G0060319.JPG,G0060320.JPG,G0060321.JPG,G0060322.JPG,G0060323.JPG,G0060324.JPG,G0060325.JPG,G0060326.JPG,G0060327.JPG,G0060328.JPG,G0060329.JPG,G0060330.JPG,G0060331.JPG,G0060332.JPG,G0060333.JPG,G0060334.JPG,G0060335.JPG,G0060336.JPG,G0060337.JPG,G0060338.JPG,G0060339.JPG,G0060340.JPG,G0060341.JPG,G0060342.JPG,G0060343.JPG,G0060344.JPG,G0060345.JPG,G0060346.JPG,G0060347.JPG,G0060348.JPG,G0060349.JPG,G0060350.JPG,G0060351.JPG,G0060352.JPG,G0060353.JPG,G0060354.JPG,G0060355.JPG,G0060356.JPG,G0060357.JPG,G0060358.JPG,G0060359.JPG,G0060360.JPG,G0060361.JPG,G0060362.JPG,G0060363.JPG,G0060364.JPG,G0060365.JPG,G0060366.JPG,G0060367.JPG,G0060368.JPG,G0060369.JPG,G0060370.JPG,G0060371.JPG,G0060372.JPG,G0060373.JPG,G0070374.JPG,G0070375.JPG,G0070376.JPG,G0070377.JPG,G0070378.JPG,G0070379.JPG,G0070380.JPG,G0070381.JPG,G0070382.JPG,G0070383.JPG,G0070384.JPG,G0070385.JPG,G0070386.JPG,G0070387.JPG,G0070388.JPG,G0070389.JPG,G0070390.JPG,G0070391.JPG,G0070392.JPG,G0070393.JPG,G0070394.JPG,G0070395.JPG,G0070396.JPG,G0070397.JPG,G0080398.JPG,G0080399.JPG,G0080400.JPG,G0080401.JPG,G0080402.JPG,G0080403.JPG",
        subFolder: 'vicky',
    };
    var prepareGallery = function(photoSequence) {
        var folder = photoSequence.subFolder;
        var photoList = photoSequence.sequence.split(',');
        var items = [];
        var ratio = 1;
        //(1280 / 3840);
        var photoWidth = 3840 * ratio;
        var photoHeight = 2880 * ratio;
        for (var i = 0; i < photoList.length; i++) {
            var photo = photoList[i];
            items[i] = {
                thumbnailSrc: 'https://s3.eu-central-1.amazonaws.com/volare.francescofiduccia.com/images/thumbnail/' + folder + "/" + photo,
                mediumSrc: 'https://s3.eu-central-1.amazonaws.com/volare.francescofiduccia.com/images/resize/' + folder + "/" + photo,
                originalSrc: 'https://s3.eu-central-1.amazonaws.com/volare.francescofiduccia.com/images/original/' + folder + "/" + photo,
                w: photoWidth,
                h: photoHeight,
            };
        }
        var options = {
            history: false,
            focus: false,
            showAnimationDuration: 0,
            hideAnimationDuration: 0,
            preload:[3,3],
            modal: true
        };
        var pswpElement = document.querySelectorAll('.pswp')[0];
        var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);

        var realViewportWidth,
            useLargeImages = false,
            firstResize = true,
            imageSrcWillChange;

        gallery.listen('beforeResize', function() {
            // calculate real pixels when size changes
            realViewportWidth = gallery.viewportSize.x * window.devicePixelRatio;

            // Find out if current images need to be changed
            if (useLargeImages && realViewportWidth < 2880) {
                useLargeImages = false;
                imageSrcWillChange = true;
            } else if (!useLargeImages && realViewportWidth >= 2880) {
                useLargeImages = true;
                imageSrcWillChange = true;
            }
            // Invalidate items only when source is changed and when it's not the first update
            if (imageSrcWillChange && !firstResize) {
                // invalidateCurrItems sets a flag on slides that are in DOM,
                // which will force update of content (image) on window.resize.

                console.log("invalidateCurrItems");
                gallery.invalidateCurrItems();
            }

            if (firstResize) {
                firstResize = false;
            }

            imageSrcWillChange = false;

        });
        gallery.listen('gettingData', function(index, item) {
            // Set image source & size based on real viewport width
            if (useLargeImages) {
                item.src = item.originalSrc;
                
            } else {
                item.src = item.mediumSrc;
            }

        });
        gallery.listen('shareLinkClick', function(e,target){
        	target.href = this.currItem.originalSrc;
        });
        gallery.init();
    }

    var initUI = function() {

        var photoGalleries = [photoSequenceFrancesco, photoSequenceValentina];
        var galleryLinks = document.querySelectorAll('.gallery-link');
        for (var i = 0; i < galleryLinks.length; i++) {
            galleryLinks[i].onclick = function(i) {
                return function() {
                    prepareGallery(photoGalleries[i])
                };
            }(i);
        }
    }
    initUI();
    </script>
</body>

</html>
